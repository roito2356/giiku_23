<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>アプリケーション名</title>
    <!-- Bootstrap CSS CDN読み込み -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <!-- Bootstrap JavaScript CDN読み込み -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script> 
    <link href="../static/css/bootstrap.min.css" rel="stylesheet">
    <link href="../static/css/main.css" rel="stylesheet">
  </head>
  <body class="margin-screen">
    <header class="nav-color">
      <ul class="nav nav-pills justify-content-end header-topmargin nav-button-position">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="{{url_for('top')}}">教材一覧</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{url_for('register')}}">ユーザー登録</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{url_for('login')}}">ログイン</a>
          </li>
          <!-- ログインしている場合 -->
          {% if current_user.is_authenticated %}
            <!-- 管理者の場合 -->
            {% if current_user.is_administrator() %} 
            <li class="nav-item">
              <a class="nav-link {% if request.endpoint == 'users.user_maintenance' %}active{% endif %}" href="{{url_for('user_maintenance')}}">ユーザー管理</a>
            </li>
            {% endif %}
          <li class="nav-item">
            <a class="nav-link" href="{{url_for('logout')}}">ログアウト</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="{{url_for('mypage')}}">{{ current_user.username | truncate(10) }}ぺージ</a>
          </li>
          {% endif %}
      </ul>
    </header>
    
    <!-- このbase.htmlを継承しているファイルで、フォームのエラーメッセージを受け取ることができる -->
    {% from "_formhelpers.html" import render_field %}

      <!-- フラッシュメッセージ start -->
      {% for message in get_flashed_messages() %}
      <div class="alert alert-warning alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      {% endfor %}
      <!-- フラッシュメッセージ end -->
      {% block content %}

      {% endblock %}
  </body>
  <footer class="footer-color item-center padding-top-little padding-bottom-little">
    ©susaki-fac.inc
  </footer>
</html>